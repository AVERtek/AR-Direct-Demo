<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sugarlump Amazon Book</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #f0f0f0;
            position: relative; /* For absolute positioning of buttons */
        }
        model-viewer {
            width: 100%; /* Make it fill more width */
            height: 100vh; /* Make it fill the viewport height */
            background-color: #ffffff;
            /* Removed border-radius and box-shadow for full screen look */
        }
        .controls-container {
            position: absolute;
            bottom: 20px; /* Adjust as needed */
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px; /* Space between buttons */
            z-index: 10; /* Ensure buttons are above model-viewer */
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }
        .ar-button {
            background-color: #007bff;
            color: white;
        }
        .ar-button:hover {
            background-color: #0056b3;
        }
        .play-pause-button {
            background-color: #6f42c1; /* A distinct color for play/pause */
            color: white;
        }
        .play-pause-button:hover {
            background-color: #5a2e9b;
        }
        .url-button {
            background-color: #28a745;
            color: white;
        }
        .url-button:hover {
            background-color: #218838;
        }
        /* Style for the audio play button, if kept separate from controls */
        #play-audio-standalone {
            position: absolute;
            top: 20px; /* Position it at the top */
            left: 20px;
            padding: 10px 20px;
            font-size: 16px;
            background-color: #ffc107; /* Yellow for audio */
            color: #333;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            z-index: 10;
        }
        #play-audio-standalone:hover {
            background-color: #e0a800;
        }

        /* Hide the URL button initially, as per your original logic */
        #url-button {
            display: none;
        }
    </style>
</head>
<body>
    <model-viewer
        id="myModelViewer"
        src="Models/kindness_rocks_large_7.glb"
        ios-src="KINDNESS_ROCKS_LARGE_7_Output.usdz"
        alt="A 3D model"
        ar
        ar-modes="scene-viewer webxr quick-look"
        camera-controls
        auto-rotate
        autoplay
        poster="images/rocks.png"
        shadow-intensity="1"
        ar-scale="auto"
        ar-placement="floor"
        interaction-prompt="none"
    >
        <button slot="ar-button" id="ar-button" class="ar-button">View in your space</button>
    </model-viewer>

    <audio id="audio" src="Sound/Kindness Rocks_mix.mp3" loop></audio>
    <button id="play-audio-standalone">Play Audio</button>

    <div class="controls-container">
        <button id="playPauseButton" class="play-pause-button">Pause Animation</button>
        <button id="url-button" class="url-button">Go to Book</button>
    </div>

    <script>
        const modelViewer = document.getElementById('myModelViewer');
        const playPauseButton = document.getElementById('playPauseButton');
        const urlButton = document.getElementById('url-button');
        const audio = document.getElementById('audio');
        const playAudioStandaloneButton = document.getElementById('play-audio-standalone');

        // --- Play/Pause for Model-Viewer Animation ---
        let isPlaying = modelViewer.hasAttribute('auto-rotate') || modelViewer.hasAttribute('autoplay');

        // Initial button text based on current state
        playPauseButton.textContent = isPlaying ? 'Pause Animation' : 'Play Animation';

        playPauseButton.addEventListener('click', () => {
            if (isPlaying) {
                modelViewer.pause();
                playPauseButton.textContent = 'Play Animation';
            } else {
                modelViewer.play();
                playPauseButton.textContent = 'Pause Animation';
            }
            isPlaying = !isPlaying;
        });

        // Keep button text in sync if animation state changes programmatically
        modelViewer.addEventListener('play', () => {
            isPlaying = true;
            playPauseButton.textContent = 'Pause Animation';
        });
        modelViewer.addEventListener('pause', () => {
            isPlaying = false;
            playPauseButton.textContent = 'Play Animation';
        });

        // --- AR Status and URL Button Visibility ---
        modelViewer.addEventListener('ar-status', (event) => {
            if (event.detail.status === 'session-started') {
                urlButton.style.display = 'block';
            } else {
                urlButton.style.display = 'none';
            }
        });

        // --- URL Button Logic ---
        urlButton.addEventListener('click', () => {
            const targetUrl = "https://www.amazon.com/Sweet-Dreams-Sugarlump-childrens-everywhere/dp/B0FFZD7D12/ref=sr_1_1?crid=2PE5ZR31RUKFJ&dib=eyJ2IjoiMSJ9.eirXTPVo6volOV0M2LSzWYM7M7OETpDHtuB5kCsvMqZpHjvNE3fvrGYiQzi9OEE_KnGVoDwiK8TJUKsihTlWlEkYrzfe4QfSs8rE6vaoo0Y5BfWqKzpuFPGm7bKE9IC-Kz-0FvP462KBgxOa04D1aqfLppMInjk90QDppqNon6eTrQ0InDpeNmty3hB14QayZjes0oEcHGgvSH_4mtoM9SHyIbK9wzspljEyRdN_vAiF9SAFTutLx3FZqHy8JM44s5QDZ0XdYakBff_dMR3KMvFf10ZCsMFhMmGz6QY5jPI.EkEaYpKKTbUyJ3uJZG_vjHaGCtcX2MSHyN27dyNdIqY&dib_tag=se&keywords=sugarlump&qid=1752536576&sprefix=sugarlump%2Caps%2C158&sr=8-1'";
            window.open(targetUrl, '_blank'); // Opens in a new tab
        });

        // --- Audio Play Button Logic ---
        playAudioStandaloneButton.addEventListener('click', () => {
            audio.play();
            // Optional: Disable the button or change its text after playing
            playAudioStandaloneButton.textContent = 'Playing Audio';
            playAudioStandaloneButton.disabled = true; // Prevents re-clicking
        });

        // If you want the audio button to toggle play/pause:
        /*
        let isAudioPlaying = false;
        playAudioStandaloneButton.addEventListener('click', () => {
            if (isAudioPlaying) {
                audio.pause();
                playAudioStandaloneButton.textContent = 'Play Audio';
            } else {
                audio.play();
                playAudioStandaloneButton.textContent = 'Pause Audio';
            }
            isAudioPlaying = !isAudioPlaying;
        });
        */

    </script>
</body>
</html>



<!--<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>sugarlump Amazon Book</title>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
  <style>
    #ar-button {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    #url-button {
      display: none;
      position: absolute;
      bottom: 60px;
      left: 50%;
      transform: translateX(-50%);
      padding: 10px 20px;
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <model-viewer 
    src="Models/kindness_rocks_large_7.glb?sound=Sound/Kindness Rocks_mix.mp3" 
    ios-src="KINDNESS_ROCKS_LARGE_7_Output.usdz"
    alt="A 3D model" 
    ar 
    ar-modes="scene-viewer webxr quick-look" 
    camera-controls 
    auto-rotate 
    autoplay 
    poster="images/rocks.png" 
    shadow-intensity="1" 
    ar-scale="auto" 
    ar-placement="floor"
    interaction-prompt="none">
    <button slot="ar-button" id="ar-button">View in your space</button>
  </model-viewer>

  <audio id="audio" src="Sound/Kindness Rocks_mix.mp3" loop></audio>
  <button id="play-audio" onclick="document.getElementById('audio').play()">Play Audio</button>

  <button id="url-button" onclick="window.location.href='https://www.amazon.com/Sweet-Dreams-Sugarlump-childrens-everywhere/dp/B0FFZD7D12/ref=sr_1_1?crid=2PE5ZR31RUKFJ&dib=eyJ2IjoiMSJ9.eirXTPVo6volOV0M2LSzWYM7M7OETpDHtuB5kCsvMqZpHjvNE3fvrGYiQzi9OEE_KnGVoDwiK8TJUKsihTlWlEkYrzfe4QfSs8rE6vaoo0Y5BfWqKzpuFPGm7bKE9IC-Kz-0FvP462KBgxOa04D1aqfLppMInjk90QDppqNon6eTrQ0InDpeNmty3hB14QayZjes0oEcHGgvSH_4mtoM9SHyIbK9wzspljEyRdN_vAiF9SAFTutLx3FZqHy8JM44s5QDZ0XdYakBff_dMR3KMvFf10ZCsMFhMmGz6QY5jPI.EkEaYpKKTbUyJ3uJZG_vjHaGCtcX2MSHyN27dyNdIqY&dib_tag=se&keywords=sugarlump&qid=1752536576&sprefix=sugarlump%2Caps%2C158&sr=8-1'">Go to Book</button>

  <script>
    const modelViewer = document.querySelector('model-viewer');
    modelViewer.addEventListener('ar-status', (event) => {
      if (event.detail.status === 'session-started') {
        document.getElementById('url-button').style.display = 'block';
      } else {
        document.getElementById('url-button').style.display = 'none';
      }
    });
  </script>
</body>
</html> -->
